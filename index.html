<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Tanishka ‚ù§Ô∏è</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --primary: #ff4d6d;
            --glass: rgba(255, 255, 255, 0.85);
        }

        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background: radial-gradient(circle at top right, #fff1f2, #ffccd5);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Falling Petals Background */
        .petal {
            position: fixed;
            top: -10%;
            color: #ff4d6d;
            user-select: none;
            z-index: 1;
            pointer-events: none;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        /* Glass Card Container */
        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 40px;
            padding: 40px;
            text-align: center;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        h1 { font-family: 'Dancing Script', cursive; color: var(--primary); font-size: 3.2rem; margin: 0 0 10px 0; }
        p { color: #555; line-height: 1.6; }

        /* HEARTBEAT YES BUTTON */
        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.1); }
            30% { transform: scale(1); }
            45% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        #yesBtn {
            background: var(--primary);
            color: white;
            padding: 18px 45px;
            border: none;
            border-radius: 60px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(255, 77, 109, 0.4);
            animation: heartbeat 1.2s infinite ease-in-out;
            transition: transform 0.3s;
        }

        #noBtn {
            background: #fff;
            color: #999;
            padding: 15px 35px;
            border: 1px solid #ddd;
            border-radius: 60px;
            cursor: pointer;
            transition: 0.3s;
        }

        /* Heart Frame for Photo */
        .heart-frame {
            width: 220px;
            height: 200px;
            margin: 20px auto;
            background: #fff;
            clip-path: path('M110 35c-30-50-110-35-110 50 0 55 70 100 110 145 40-45 110-90 110-145 0-85-80-100-110-50z');
            display: none;
            border: 5px solid white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .heart-frame img { width: 100%; height: 100%; object-fit: cover; }

        .handwritten {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--primary);
            margin-top: 20px;
            line-height: 1.5;
            white-space: pre-line;
            opacity: 0;
        }

        .btn-group { display: flex; justify-content: center; gap: 25px; align-items: center; min-height: 160px; }
    </style>
</head>
<body>

<div class="glass-card" id="card">
    <div id="init">
        <h1>Hi Tanishka ‚ù§Ô∏è</h1>
        <p>There is a piece of my heart I want to share with you...</p>
        <button onclick="reveal()" style="background:var(--primary); color:white; padding:12px 30px; border-radius:50px; border:none; cursor:pointer; font-weight:600;">Open Heart</button>
    </div>

    <div id="ask" style="display:none;">
        <p style="font-weight: 500; font-size: 1.2rem;">Tanishka, will you be my Valentine?</p>
        <div class="btn-group">
            <button id="yesBtn">YES! ‚ù§Ô∏è</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <div id="result" style="display:none;">
        <div class="heart-frame" id="photo"><img src="us.jpeg"></div>
        <div id="typewriter" class="handwritten"></div>
    </div>
</div>

<audio id="song"><source src="song.mp3" type="audio/mpeg"></audio>
<audio id="suspense" loop><source src="suspense.mp3" type="audio/mpeg"></audio>

<script>
    // Rose Petal Effect
    function createPetal() {
        const petal = document.createElement('div');
        petal.classList.add('petal');
        petal.innerHTML = 'üå∏';
        petal.style.left = Math.random() * 100 + 'vw';
        petal.style.fontSize = Math.random() * 10 + 15 + 'px';
        petal.style.animationDuration = Math.random() * 3 + 4 + 's';
        petal.style.opacity = Math.random();
        document.body.appendChild(petal);
        setTimeout(() => petal.remove(), 7000);
    }
    setInterval(createPetal, 300);

    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const song = document.getElementById('song');
    const suspense = document.getElementById('suspense');

    function reveal() {
        document.getElementById('init').style.display = 'none';
        document.getElementById('ask').style.display = 'block';
        suspense.play();
    }

    let scale = 1;
    noBtn.addEventListener('mouseover', () => {
        noBtn.style.position = 'fixed';
        noBtn.style.left = Math.random() * 80 + '%';
        noBtn.style.top = Math.random() * 80 + '%';
        scale += 0.3;
        yesBtn.style.transform = `scale(${scale})`;
    });

    yesBtn.addEventListener('click', () => {
        suspense.pause();
        song.play();
        confetti({ particleCount: 200, spread: 80, origin: { y: 0.6 } });

        document.getElementById('ask').style.display = 'none';
        document.getElementById('result').style.display = 'block';
        document.getElementById('photo').style.display = 'block';

        const finalMsg = "See what we have painted... maybe it's not perfect but it's the most beautiful thing.\n\nTanishka, you mean so much to me. Never feel anything else or overthink because you are my world. ‚ù§Ô∏è\n\nLekin yaad rakhna, agar tum mere bus mein nhi aayi toh tumhare upar se truck jaega! üòÇ\n\nForever yours,\nPranav ‚ù§Ô∏è";
        
        let i = 0;
        const target = document.getElementById('typewriter');
        target.style.opacity = 1;
        function type() {
            if (i < finalMsg.length) {
                target.innerHTML += finalMsg.charAt(i);
                i++;
                setTimeout(type, 50);
            }
        }
        type();
    });
</script>
</body>
</html>
